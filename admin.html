<!DOCTYPE html>

<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†å“ç®¡ç† - ç®¡ç†è€…å°‚ç”¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', sans-serif;
        background: #ffffff;
        min-height: 100vh;
        padding: 20px;
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
    }

    /* ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ */
    .login-screen {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 80vh;
    }

    .login-box {
        background: white;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        width: 100%;
        max-width: 400px;
    }

    .login-box h2 {
        margin-bottom: 20px;
        color: #333;
        text-align: center;
    }

    header {
        text-align: center;
        color: #333;
        margin-bottom: 40px;
    }

    h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        color: #667eea;
    }

    .subtitle {
        font-size: 1.1em;
        color: #666;
    }

    .controls {
        background: white;
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 30px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .form-group {
        margin-bottom: 15px;
    }

    label {
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
        color: #333;
    }

    input, select, textarea {
        width: 100%;
        padding: 10px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 14px;
        transition: border-color 0.3s;
        font-family: inherit;
    }

    textarea {
        min-height: 100px;
        resize: vertical;
    }

    input:focus, select:focus, textarea:focus {
        outline: none;
        border-color: #667eea;
    }

    button {
        background: #ff4757;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: 600;
    }

    button:hover {
        background: #ee5a6f;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .btn-secondary {
        background: #667eea;
    }

    .btn-secondary:hover {
        background: #5568d3;
    }

    .btn-danger {
        background: #e74c3c;
        padding: 8px 16px;
        font-size: 14px;
        margin-top: 10px;
    }

    .btn-danger:hover {
        background: #c0392b;
    }

    .logout-btn {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #95a5a6;
        padding: 10px 20px;
        font-size: 14px;
        z-index: 1000;
    }

    .logout-btn:hover {
        background: #7f8c8d;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
        margin-top: 20px;
    }

    @media (max-width: 768px) {
        .products-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
    }

    .product-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        transition: all 0.3s;
        position: relative;
    }

    .product-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }

    .product-image {
        width: 100%;
        aspect-ratio: 1 / 1;
        object-fit: cover;
        background: #f0f0f0;
    }

    .product-info {
        padding: 20px;
    }

    .product-name {
        font-size: 18px;
        font-weight: 600;
        color: #333;
        margin-bottom: 12px;
        line-height: 1.4;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .product-price {
        font-size: 28px;
        font-weight: 700;
        color: #ff4757;
        margin-bottom: 12px;
    }

    .status-badge {
        display: inline-block;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 13px;
        font-weight: 600;
        margin-bottom: 12px;
    }

    .status-available {
        background: #1dd1a1;
        color: white;
    }

    .status-sold {
        background: #9e9e9e;
        color: white;
    }

    .filter-sort {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
    }

    .filter-sort > div {
        flex: 1;
        min-width: 200px;
    }

    .empty-state {
        text-align: center;
        padding: 60px 20px;
        color: #999;
        font-size: 18px;
    }

    .hidden {
        display: none;
    }

    .admin-actions {
        border-top: 2px solid #e0e0e0;
        padding-top: 15px;
        margin-top: 15px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .update-status-btn {
        background: #3498db;
        padding: 8px 16px;
        font-size: 14px;
        flex: 1;
        min-width: 120px;
    }

    .update-status-btn:hover {
        background: #2980b9;
    }

    .auto-update-info {
        background: #e8f5e9;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 15px;
        border-left: 4px solid #4caf50;
    }

    .auto-update-info strong {
        color: #2e7d32;
    }

    .url-list {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
        border: 2px solid #e0e0e0;
    }

    .url-list h3 {
        margin-bottom: 10px;
        color: #333;
        font-size: 16px;
    }

    .url-list textarea {
        background: white;
        min-height: 150px;
        font-family: 'Courier New', monospace;
        font-size: 13px;
    }

    .help-text {
        font-size: 13px;
        color: #666;
        margin-top: 5px;
    }
</style>
```

</head>
<body>
    <div class="container">
        <!-- ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ -->
        <div id="loginScreen" class="login-screen">
            <div class="login-box">
                <h2>ğŸ” ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³</h2>
                <div class="form-group">
                    <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                    <input type="password" id="passwordInput" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›" onkeypress="if(event.key==='Enter') login()">
                </div>
                <button onclick="login()" style="width: 100%;">ãƒ­ã‚°ã‚¤ãƒ³</button>
            </div>
        </div>

```
    <!-- ç®¡ç†è€…ç”»é¢ -->
    <div id="adminView" class="hidden">
        <button class="logout-btn" onclick="logout()">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>

        <header>
            <h1>ğŸ”§ å•†å“ç®¡ç†ç”»é¢</h1>
            <p class="subtitle">å•†å“ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤</p>
        </header>

        <div class="controls">
            <div class="auto-update-info">
                <strong>ğŸ“¡ è‡ªå‹•æ›´æ–°æ©Ÿèƒ½</strong><br>
                ãƒ¡ãƒ«ã‚«ãƒªã®ãƒªãƒ³ã‚¯å…ˆã‚’å®šæœŸçš„ã«ãƒã‚§ãƒƒã‚¯ã—ã¦ã€å•†å“ãŒå£²ã‚Šåˆ‡ã‚ŒãŸå ´åˆã¯è‡ªå‹•çš„ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°ã—ã¾ã™ã€‚<br>
                <small>â€»å®Ÿéš›ã®ç’°å¢ƒã§ã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã§ãƒ¡ãƒ«ã‚«ãƒªã®APIã‚„ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦å®Ÿè£…ã—ã¾ã™ã€‚</small>
            </div>

            <h2 style="margin-bottom: 20px; color: #333;">ğŸ“ å•†å“ã‚’ä¸€æ‹¬è¿½åŠ </h2>
            <div class="form-group">
                <label>ãƒ¡ãƒ«ã‚«ãƒªã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ï¼ˆè¤‡æ•°å¯ï¼‰</label>
                <textarea id="affiliateUrls" placeholder="https://mercari.com/item1
```

https://mercari.com/item2
https://mercari.com/item3

1è¡Œã«1ã¤ã®URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„â€></textarea>
<p class="help-text">è¤‡æ•°ã®URLã‚’æ”¹è¡Œã§åŒºåˆ‡ã£ã¦å…¥åŠ›ã§ãã¾ã™</p>
</div>
<button onclick="addProductsFromUrls()">URLã‹ã‚‰å•†å“ã‚’è¿½åŠ </button>

```
            <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e0e0e0;">
                <h2 style="margin-bottom: 20px; color: #333;">â• å€‹åˆ¥ã«å•†å“ã‚’è¿½åŠ </h2>
                <div class="form-group">
                    <label>å•†å“ç”»åƒURL</label>
                    <input type="text" id="imageUrl" placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-group">
                    <label>å•†å“å</label>
                    <input type="text" id="productName" placeholder="å•†å“åã‚’å…¥åŠ›">
                </div>
                <div class="form-group">
                    <label>ä¾¡æ ¼ï¼ˆå††ï¼‰</label>
                    <input type="number" id="price" placeholder="3000">
                </div>
                <div class="form-group">
                    <label>ãƒ¡ãƒ«ã‚«ãƒªã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆURL</label>
                    <input type="text" id="singleAffiliateUrl" placeholder="https://mercari.com/...">
                </div>
                <button onclick="addSingleProduct()">ã“ã®å•†å“ã‚’è¿½åŠ </button>
            </div>

            <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e0e0e0;">
                <h3 style="margin-bottom: 15px; color: #333;">çµã‚Šè¾¼ã¿ãƒ»ä¸¦ã³æ›¿ãˆ</h3>
                <div class="filter-sort">
                    <div>
                        <label>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã§çµã‚Šè¾¼ã¿</label>
                        <select id="filterStatus" onchange="filterProducts()">
                            <option value="all">ã™ã¹ã¦</option>
                            <option value="available">è²©å£²ä¸­ã®ã¿</option>
                            <option value="sold">å£²ã‚Šåˆ‡ã‚Œã®ã¿</option>
                        </select>
                    </div>
                    <div>
                        <label>ä¸¦ã³æ›¿ãˆ</label>
                        <select id="sortBy" onchange="sortProducts()">
                            <option value="newest">æ–°ã—ã„é †</option>
                            <option value="price-low">ä¾¡æ ¼ãŒå®‰ã„é †</option>
                            <option value="price-high">ä¾¡æ ¼ãŒé«˜ã„é †</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div id="productsGrid" class="products-grid"></div>
    </div>
</div>

<script>
    const ADMIN_PASSWORD = 'mercari2024'; // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„

    let products = [
        {
            id: 1,
            image: 'https://via.placeholder.com/600x600/667eea/ffffff?text=Sample+Item+1',
            name: 'ãƒŠã‚¤ã‚­ ã‚¨ã‚¢ãƒãƒƒã‚¯ã‚¹ ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼ 27cm',
            price: 8500,
            status: 'available',
            affiliateUrl: 'https://mercari.com/sample1'
        },
        {
            id: 2,
            image: 'https://via.placeholder.com/600x600/764ba2/ffffff?text=Sample+Item+2',
            name: 'iPhone 13 ã‚±ãƒ¼ã‚¹ é€æ˜ ã‚·ãƒ³ãƒ—ãƒ«',
            price: 1200,
            status: 'sold',
            affiliateUrl: 'https://mercari.com/sample2'
        },
        {
            id: 3,
            image: 'https://via.placeholder.com/600x600/f093fb/ffffff?text=Sample+Item+3',
            name: 'ãƒ¦ãƒ‹ã‚¯ãƒ­ ãƒ€ã‚¦ãƒ³ã‚¸ãƒ£ã‚±ãƒƒãƒˆ Mã‚µã‚¤ã‚º ãƒ–ãƒ©ãƒƒã‚¯',
            price: 4500,
            status: 'available',
            affiliateUrl: 'https://mercari.com/sample3'
        }
    ];

    // ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
    function login() {
        const password = document.getElementById('passwordInput').value;
        if (password === ADMIN_PASSWORD) {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('adminView').classList.remove('hidden');
            renderProducts();
        } else {
            alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“');
        }
    }

    function logout() {
        document.getElementById('adminView').classList.add('hidden');
        document.getElementById('loginScreen').classList.remove('hidden');
        document.getElementById('passwordInput').value = '';
    }

    function renderProducts(productsToRender = products) {
        const grid = document.getElementById('productsGrid');
        
        if (productsToRender.length === 0) {
            grid.innerHTML = '<div class="empty-state">å•†å“ãŒã‚ã‚Šã¾ã›ã‚“</div>';
            return;
        }

        grid.innerHTML = productsToRender.map(product => `
            <div class="product-card">
                <img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.src='https://via.placeholder.com/600x600/e0e0e0/999999?text=No+Image'">
                <div class="product-info">
                    <h3 class="product-name">${product.name}</h3>
                    <div class="product-price">Â¥${product.price.toLocaleString()}</div>
                    <span class="status-badge ${product.status === 'sold' ? 'status-sold' : 'status-available'}">
                        ${product.status === 'sold' ? 'å£²ã‚Šåˆ‡ã‚Œ' : 'è²©å£²ä¸­'}
                    </span>
                    <div class="admin-actions">
                        <button class="update-status-btn" onclick="checkProductStatus(${product.id})">
                            ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
                        </button>
                        <button class="btn-danger" onclick="deleteProduct(${product.id})">
                            å‰Šé™¤
                        </button>
                    </div>
                </div>
            </div>
        `).join('');
    }

    // URLã‹ã‚‰å•†å“ã‚’ä¸€æ‹¬è¿½åŠ 
    function addProductsFromUrls() {
        const urlsText = document.getElementById('affiliateUrls').value.trim();
        if (!urlsText) {
            alert('URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
            return;
        }

        const urls = urlsText.split('\n').filter(url => url.trim() !== '');
        let addedCount = 0;

        urls.forEach(url => {
            url = url.trim();
            if (!url.startsWith('http')) {
                return; // ç„¡åŠ¹ãªURLã¯ã‚¹ã‚­ãƒƒãƒ—
            }

            // å®Ÿéš›ã®ç’°å¢ƒã§ã¯ã€URLã‹ã‚‰å•†å“æƒ…å ±ã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã¾ãŸã¯APIã§å–å¾—
            // ã“ã“ã§ã¯ãƒ‡ãƒ¢ã¨ã—ã¦ä»®ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ
            const newProduct = {
                id: Date.now() + addedCount,
                image: 'https://via.placeholder.com/600x600/667eea/ffffff?text=New+Item',
                name: `ãƒ¡ãƒ«ã‚«ãƒªå•†å“ #${products.length + addedCount + 1}`,
                price: Math.floor(Math.random() * 10000) + 1000,
                status: 'available',
                affiliateUrl: url
            };

            products.unshift(newProduct);
            addedCount++;
        });

        if (addedCount > 0) {
            alert(`${addedCount}ä»¶ã®å•†å“ã‚’è¿½åŠ ã—ã¾ã—ãŸ`);
            renderProducts();
            document.getElementById('affiliateUrls').value = '';
        } else {
            alert('æœ‰åŠ¹ãªURLãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸ');
        }
    }

    // å€‹åˆ¥ã«å•†å“ã‚’è¿½åŠ 
    function addSingleProduct() {
        const imageUrl = document.getElementById('imageUrl').value;
        const name = document.getElementById('productName').value;
        const price = parseInt(document.getElementById('price').value);
        const affiliateUrl = document.getElementById('singleAffiliateUrl').value;

        if (!name || !price || !affiliateUrl) {
            alert('å•†å“åã€ä¾¡æ ¼ã€ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆURLã¯å¿…é ˆã§ã™');
            return;
        }

        const newProduct = {
            id: Date.now(),
            image: imageUrl || 'https://via.placeholder.com/600x600/e0e0e0/999999?text=No+Image',
            name: name,
            price: price,
            status: 'available',
            affiliateUrl: affiliateUrl
        };

        products.unshift(newProduct);
        renderProducts();

        // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ
        document.getElementById('imageUrl').value = '';
        document.getElementById('productName').value = '';
        document.getElementById('price').value = '';
        document.getElementById('singleAffiliateUrl').value = '';

        alert('å•†å“ã‚’è¿½åŠ ã—ã¾ã—ãŸ');
    }

    function deleteProduct(id) {
        if (confirm('ã“ã®å•†å“ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
            products = products.filter(p => p.id !== id);
            renderProducts();
            alert('å•†å“ã‚’å‰Šé™¤ã—ã¾ã—ãŸ');
        }
    }

    // å•†å“ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®è‡ªå‹•ç¢ºèª
    function checkProductStatus(id) {
        const product = products.find(p => p.id === id);
        if (!product) return;

        // ãƒ‡ãƒ¢ï¼šãƒ©ãƒ³ãƒ€ãƒ ã§å£²ã‚Šåˆ‡ã‚Œåˆ¤å®š
        const isSold = Math.random() > 0.7;
        
        if (isSold && product.status === 'available') {
            product.status = 'sold';
            alert(`ã€Œ${product.name}ã€ãŒå£²ã‚Šåˆ‡ã‚Œã«ãªã‚Šã¾ã—ãŸï¼`);
            renderProducts();
        } else if (!isSold && product.status === 'sold') {
            product.status = 'available';
            alert(`ã€Œ${product.name}ã€ãŒå†å‡ºå“ã•ã‚Œã¾ã—ãŸï¼`);
            renderProducts();
        } else {
            alert(`ã€Œ${product.name}ã€ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${product.status === 'sold' ? 'å£²ã‚Šåˆ‡ã‚Œ' : 'è²©å£²ä¸­'}`);
        }
    }

    // å…¨å•†å“ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å®šæœŸçš„ã«ç¢ºèª
    function autoUpdateAllProducts() {
        products.forEach(product => {
            const isSold = Math.random() > 0.85;
            if (isSold && product.status === 'available') {
                product.status = 'sold';
            }
        });
        renderProducts();
    }

    // 30ç§’ã”ã¨ã«è‡ªå‹•æ›´æ–°
    setInterval(autoUpdateAllProducts, 30000);

    function filterProducts() {
        const filterValue = document.getElementById('filterStatus').value;
        let filtered = products;

        if (filterValue !== 'all') {
            filtered = products.filter(p => p.status === filterValue);
        }

        sortProducts(filtered);
    }

    function sortProducts(productsToSort = null) {
        const sortValue = document.getElementById('sortBy').value;
        const filterValue = document.getElementById('filterStatus').value;
        
        let filtered = productsToSort || products;
        if (!productsToSort && filterValue !== 'all') {
            filtered = products.filter(p => p.status === filterValue);
        }

        let sorted = [...filtered];

        switch(sortValue) {
            case 'price-low':
                sorted.sort((a, b) => a.price - b.price);
                break;
            case 'price-high':
                sorted.sort((a, b) => b.price - a.price);
                break;
            case 'newest':
                sorted.sort((a, b) => b.id - a.id);
                break;
        }

        renderProducts(sorted);
    }
</script>
```

</body>
</html>
